[global]
<% unless node['ceph']['config']['fsid'].nil? -%>
  fsid = <%= node['ceph']['config']['fsid'] %>
<% end -%>
<% if node['ceph']['config']['initial_members'] -%>
  mon initial members = <%= node['ceph']['config']['initial_members'].join(',') %>
<% end -%>
<% if node['ceph']['config']['initial_host'] -%>
  mon host = <%= node['ceph']['config']['initial_host'].join(',') %>
<% end -%>
<% if node['ceph']['config']['public-network'] -%>
  public network = <%= node['ceph']['config']['public-network'] %>
<% end -%>
<% if node['ceph']['config']['cluster-network'] -%>
  cluster network = <%= node['ceph']['config']['cluster-network'] %>
<% end -%>
<% if node['ceph']['config']['auth_cluster_required'] -%>
  auth_cluster_required = <%= node['ceph']['config']['auth_cluster_required'] %>
<% end -%>
<% if node['ceph']['config']['auth_client_required'] -%>
  auth_client_required = <%= node['ceph']['config']['auth_client_required'] %>
<% end -%>
<% if node['ceph']['config']['auth_service_required'] -%>
  auth service required = <%= node['ceph']['config']['auth_service_required'] %>
<% end -%>
<% if node['ceph']['config']['filestore_xattr_use_omap'] -%>
  filestore_xattr_use_omap = <%= node['ceph']['config']['filestore_xattr_use_omap'] %>
<% end -%>
<% if node['ceph']['config']['osd-pool-default-pg-num'] -%>
  osd pool default pg num = <%= node['ceph']['config']['osd-pool-default-pg-num'] %>
<% end -%>
<% if node['ceph']['config']['osd-pool-default-pgp-num'] -%>
  osd pool default pgp num = <%= node['ceph']['config']['osd-pool-default-pgp-num'] %>
<% end -%>
<% if node['ceph']['config']['osd-pool-default-size'] -%>
  osd pool default size = <%= node['ceph']['config']['osd-pool-default-size'] %>
<% end -%>
<% if node['ceph']['config']['osd-pool-default-min-size'] -%>
  osd pool default min size = <%= node['ceph']['config']['osd-pool-default-min-size'] %>
<% end -%>
<% if node['ceph']['config']['osd-journal-size'] -%>
  osd journal size = <%= node['ceph']['config']['osd-journal-size'] %>
<% end -%>
<% if node['ceph']['topology']['mons'] -%>
  <% node['ceph']['topology']['mons'].each do |mon| -%>
[mon.<%= mon['hostname'] %>]
  host = <%= mon['hostname'] %>
  mon addr = <%= mon['ipaddr'] %>:<%= node['ceph']['config']['mon_port'] %>
  <% end %>
<% end %>
